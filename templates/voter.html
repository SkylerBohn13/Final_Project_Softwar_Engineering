<html>
    <head>
        <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
      integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
      crossorigin="anonymous"
    />
    <script type="text/javascript" src="{{ url_for('static', filename='scripts/adminScripts.js') }}"></script>
        <Title>Voter Tool</Title>
        <style>
          .float-container {
              border: 3px solid #fff;
              padding: 20px;
            }
    
            .float-child {
                width: 50%;
                float: left;
                padding: 20px;
                border: 2px solid black;
            }
    
            table{
              border-collapse: separate;
              border-spacing: 0 15px;
            }
    
            th,
            td {
              width: 150px;
              text-align: center;
              border: 1px solid black;
              padding: 2px;
            }
    
            h2 {
              color: #4287f5;
            }
        </style>
    </head>

    <body>
        <header id="main-header" class="bg-success text-white p-4 mb-3">
            <div class="container">
              <div class="row">
                <div class="col-md-6">
                    <h1 id="header-title">Voting tool</h1>
                </div>
              </div>
            </div>
          </header>
          
          <div class="float-container">
            <div id="main" class="card card-body col-sm-6 float-child">
              <h2 class="title">President</h2>
                <div class="container">
                  <select name="president_dropdown"  id="president_dropdown">
                    {% for row in candidates['president'] %}
                    <option value='{{row}}'>{{row}}</option>
                    {% endfor %}
                    </select> 

                    <select name="vice_president_dropdown"  id="president_dropdown">
                      {% for row in candidates['vice_president'] %}
                      <option value='{{row}}'>{{row}}</option>
                      {% endfor %}
                      </select> 

                    <select name="senator_dropdown"  id="president_dropdown">
                      {% for row in candidates['senator'] %}
                      <option value='{{row}}'>{{row}}</option>
                      {% endfor %}
                      </select> 

                      <select name="representative_dropdown"  id="president_dropdown">
                        {% for row in candidates['representative'] %}
                        <option value='{{row}}'>{{row}}</option>
                        {% endfor %}
                        </select> 
                </div>
          </div>
          </div>

          <script>
            function displayCandidates() {
                // Clear table
                candidateTable = document.getElementById("candidateListings");
                candidateTable.innerHTML = "";

                var resp = retrieveCandidates();
                var results = JSON.parse(resp.body)["candidates"]; 

        
                if (results.length > 0) {
        
                    // Populate column titles
                    var titleRow = candidateTable.insertRow(-1);
                    lastNameTitleCell = titleRow.insertCell(-1);
                    firstNameTitleCell = titleRow.insertCell(-1);
                    PositionTitleCell = titleRow.insertCell(-1);
                    idTitleCell = titleRow.insertCell(-1);

                    firstNameTitleCell.innerHTML = "First";
                    lastNameTitleCell.innerHTML = "Last";
                    PositionTitleCell.innerHTML = "Position";
                    idTitleCell.innerHTML = "ID"
        
                     // Populate list
        
                     for (result of results) {
                        var row = candidateTable.insertRow(-1);
                        var rmap = new Map(Object.entries(result));
                        firstNameCell = row.insertCell(-1);
                        lastNameCell = row.insertCell(-1);
                        PositionCell = row.insertCell(-1);
                        idCell = row.insertCell(-1);
                        buttonCell = row.insertCell(-1);
        
                        firstNameCell.innerHTML = rmap.get("first_name");
                        lastNameCell.innerHTML = rmap.get("last_name");
                        PositionCell.innerHTML = rmap.get("position");
                        idCell.innerHTML = rmap.get("id");
                        buttonCell.innerHTML = '<input type="button" onclick="window.location.href="/voter"; postVote();" class = "btn btn-warning btn-lg" value="Vote!"/>';
                    }
        
                    candidateTable.style.display = "table";
        
                }
            }
            function postVote(){
             
            }

          </script>
    </body>
</html>